<!DOCTYPE html>
<html>
<head>
    <title>Test Backend Connection</title>
    <script>
        async function testConnection() {
            const endpoints = [
                'http://127.0.0.1:8000/api-test',
                'http://localhost:8000/api-test',
                'http://127.0.0.1:8000/api/status-check',
                'http://localhost:8000/api/status-check'
            ];
            
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '<p>Testing connections...</p>';
            
            let allFailed = true;
            
            for (const endpoint of endpoints) {
                try {
                    const response = await fetch(endpoint, {
                        method: 'GET',
                        headers: {
                            'Accept': 'application/json'
                        }
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        resultDiv.innerHTML += `<p style="color: green">✓ Connection to ${endpoint} successful: ${JSON.stringify(data)}</p>`;
                        allFailed = false;
                    } else {
                        resultDiv.innerHTML += `<p style="color: red">✗ Connection to ${endpoint} failed with status: ${response.status}</p>`;
                    }
                } catch (error) {
                    resultDiv.innerHTML += `<p style="color: red">✗ Connection to ${endpoint} failed: ${error.message}</p>`;
                }
            }
            
            if (allFailed) {
                resultDiv.innerHTML += '<p style="color: red; font-weight: bold">All connection attempts failed!</p>';
                resultDiv.innerHTML += '<p>Possible solutions:</p>';
                resultDiv.innerHTML += '<ol>';
                resultDiv.innerHTML += '<li>Make sure Laravel server is running with <code>php artisan serve</code></li>';
                resultDiv.innerHTML += '<li>Check CORS configuration in Laravel\'s <code>config/cors.php</code></li>';
                resultDiv.innerHTML += '<li>Verify that the API routes are defined in <code>routes/api.php</code></li>';
                resultDiv.innerHTML += '<li>Look for errors in Laravel logs: <code>storage/logs/laravel.log</code></li>';
                resultDiv.innerHTML += '</ol>';
            } else {
                resultDiv.innerHTML += '<p style="color: green; font-weight: bold">At least one connection succeeded!</p>';
            }
        }
    </script>
</head>
<body>
    <h1>Test Backend Connection</h1>
    <button onclick="testConnection()">Test Connection</button>
    <div id="result"></div>
</body>
</html> 